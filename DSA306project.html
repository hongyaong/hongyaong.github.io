<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>My Portfolio - DSA306 Customer Churn Prediction Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">My Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./DSA306project.html" rel="" target="" aria-current="page">
 <span class="menu-text">DSA306 Customer Churn Prediction Analysis</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="DSA306project.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DSA306 Customer Churn Prediction Analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><strong>Dataset codebook</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Meaning</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">DataType</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CustomerID</td>
<td style="text-align: left;">Unique Customer Identifier</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Age</td>
<td style="text-align: left;">Customer's Age in Years</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">18 to 65</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gender</td>
<td style="text-align: left;">Customer's Gender</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">Male or Female</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tenure</td>
<td style="text-align: left;">Length of Customer Subscription in Months</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">1 to 60</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Usage Frequency</td>
<td style="text-align: left;">Customer’s Frequency of Daily Service Usage</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">1 to 30</td>
</tr>
<tr class="even">
<td style="text-align: left;">Support Calls</td>
<td style="text-align: left;">Number of Support Calls made by Customer</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">0 (None) to 10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Payment Delay</td>
<td style="text-align: left;">Customer’s Payment Delay in Days</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">0 (None) to 30</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subscription Type</td>
<td style="text-align: left;">Chosen Subscription by Customer</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">Basic, Standard or Premium</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Contract Length</td>
<td style="text-align: left;">Customer Service Contract Duration</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">Monthly, Quarterly or Annually</td>
</tr>
<tr class="even">
<td style="text-align: left;">Total Spend</td>
<td style="text-align: left;">Customer Total Spending on Service in USD</td>
<td style="text-align: left;">Float</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Last Interaction</td>
<td style="text-align: left;">Days since Customer Last Interact with the Company</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">1 to 30</td>
</tr>
<tr class="even">
<td style="text-align: left;">Churn</td>
<td style="text-align: left;">Customer Discontinuation with the Service</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">1 (Yes) or 0 (No)</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Exploratory Data Analysis (EDA)</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>FileSystemDataset (query)
CustomerID: string
Age: int64
Gender: string
Tenure: int64
Usage Frequency: int64
Support Calls: int64
Payment Delay: int64
Subscription Type: string
Contract Length: string
Total Spend: float
Last Interaction: int64
Churn: int64

See $.data for the source Arrow object</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-6.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-7.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-8.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-9.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-10.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-11.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-12.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="DSA306project_files/figure-html/eda-13.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Logistic Modelling - Model 1</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "AUC for model 1: 0.935469957012298"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Confusion matrix for model 1:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]  [,2] 
[1,] 73745 10198
[2,] 8608  58403</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  accuracy precision Type 1 error Type 2 error  Recall_1
1 0.875419 0.8954744    0.1284565    0.1214872 0.8785128</code></pre>
</div>
</div>
<p><strong>Logistic Modelling - Model 1 (CV)</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   areaUnderROC elastic_net_param_1 reg_param_1
1     0.9353873                 1.0       0.001
2     0.9353866                 0.8       0.001
3     0.9353852                 0.6       0.001
4     0.9353816                 0.4       0.001
5     0.9353749                 0.2       0.001
6     0.9353684                 0.0       0.001
7     0.9352382                 0.0       0.005
8     0.9352319                 0.2       0.005
9     0.9351997                 0.4       0.005
10    0.9351574                 0.6       0.005
11    0.9350911                 0.8       0.005
12    0.9350407                 0.0       0.010
13    0.9349922                 1.0       0.005
14    0.9349559                 0.2       0.010
15    0.9348013                 0.4       0.010
16    0.9345296                 0.6       0.010
17    0.9341032                 0.8       0.010
18    0.9334750                 1.0       0.010</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "AUC for model 1a: 0.935482660776576"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Confusion matrix for model 1a:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]  [,2] 
[1,] 73690 10253
[2,] 8536  58475</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   accuracy precision Type 1 error Type 2 error    Recall
1 0.8755316 0.8961886    0.1273821    0.1221424 0.8778576</code></pre>
</div>
</div>
<p><strong>Logistic Modelling - Model 2</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "AUC for model 2: 0.935282038899156"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Confusion matrix for model 2:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]  [,2] 
[1,] 73731 10212
[2,] 8610  58401</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  accuracy precision Type 1 error Type 2 error   Recall
1 0.875313 0.8954348    0.1284864     0.121654 0.878346</code></pre>
</div>
</div>
<p><strong>Logistic Modelling - Model 2 (CV)</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   areaUnderROC reg_param_1 elastic_net_param_1
1     0.9351235       0.001                 1.0
2     0.9351213       0.001                 0.8
3     0.9351169       0.001                 0.6
4     0.9351131       0.001                 0.4
5     0.9351084       0.001                 0.2
6     0.9350997       0.001                 0.0
7     0.9349750       0.005                 0.0
8     0.9349695       0.005                 0.2
9     0.9349462       0.005                 0.4
10    0.9349036       0.005                 0.6
11    0.9348427       0.005                 0.8
12    0.9347778       0.010                 0.0
13    0.9347511       0.005                 1.0
14    0.9347054       0.010                 0.2
15    0.9345496       0.010                 0.4
16    0.9342933       0.010                 0.6
17    0.9338943       0.010                 0.8
18    0.9333122       0.010                 1.0</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "AUC for model 2a: 0.935280551815638"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Confusion matrix for model 2a:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]  [,2] 
[1,] 73696 10247
[2,] 8568  58443</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   accuracy precision Type 1 error Type 2 error    Recall
1 0.8753594 0.8958475    0.1278596    0.1220709 0.8779291</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Model successfully saved.</code></pre>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>